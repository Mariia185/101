<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–û—Ç–∫—Ä—ã—Ç–∫–∞ –¥–ª—è —Ç–µ–±—è</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
    body,html {
      margin:0;
      padding:0;
      height:100%;
      overflow:hidden;
      font-family: Arial, sans-serif;
      color:white;
      background: linear-gradient(135deg, #000022, #1a0033); 
      display:flex;
      justify-content:center;
      align-items:center;
    }
    canvas#space {
      position:fixed;
      top:0; left:0;
      width:100%;
      height:100%;
      z-index:0;
    }
    .card {
      width:90%;
      max-width:500px;
      background: rgba(0,0,30,0.75);
      border-radius:20px;
      box-shadow:0 0 25px rgba(255,0,150,0.7);
      text-align:center;
      padding:20px;
      animation:glow 3s infinite alternate;
      position:relative;
      z-index:2;
    }
    @keyframes glow {
      from {box-shadow:0 0 15px rgba(255,0,80,0.3);}
      to {box-shadow:0 0 40px rgba(255,0,150,0.9);}
    }
    h2 { font-family:'Pacifico', cursive; text-shadow:0 0 10px rgba(255,150,200,0.9); }
    input, button {
      padding:10px;
      border:none;
      border-radius:8px;
      font-size:16px;
      margin:5px;
      transition:0.3s;
    }
    input {width:60%;}
    button {
      background:#ff0055;
      color:#fff;
      box-shadow:0 0 10px rgba(255,0,150,0.7);
      cursor:pointer;
    }
    button:hover {
      transform:scale(1.1);
      box-shadow:0 0 20px rgba(255,0,180,1);
    }
    .stage { display:none; }
    .stage.active { display:block; }
    .reason-box {
      background:rgba(255,255,255,0.05);
      padding:15px;
      border-radius:12px;
      min-height:100px;
      font-family:'Pacifico', cursive;
      font-size:20px;
      color:#ff99cc;
      text-shadow:0 0 8px rgba(255,0,150,0.8);
    }
    .no-btn {
      position:absolute;
      background:#222;
      color:#fff;
      padding:8px 12px;
      border-radius:8px;
      box-shadow:0 0 10px rgba(255,0,80,0.7);
      cursor:pointer;
    }
    .love-note {
      margin-top:10px;
      font-size:14px;
      font-family:'Pacifico', cursive;
      color:#ff99cc;
      text-shadow:0 0 8px rgba(255,0,150,0.8);
    }
    .heart {
      position:absolute;
      font-size:20px;
      animation:floatUp 8s linear infinite;
      opacity:0.7;
      z-index:1;
    }
    @keyframes floatUp {
      0% { transform:translateY(100vh) scale(0.6); opacity:0; }
      20% { opacity:1; }
      100% { transform:translateY(-10vh) scale(1.3); opacity:0; }
    }
  </style>
</head>
<body>
  <canvas id="space"></canvas>
  <div class="card">
    <div id="stage0" class="stage active">
      <h2>–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å</h2>
      <input type="password" id="password" placeholder="–í–≤–µ–¥–∏—Ç–µ..." />
      <button onclick="checkPassword()">–û—Ç–∫—Ä—ã—Ç—å</button>
      <p id="error" style="color:pink;display:none;">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å ‚ù§Ô∏è</p>
      <p style="font-size:12px;color:#aaa;">–ü–æ–¥—Å–∫–∞–∑–∫–∞: —Å–ª–æ–≤–æ –ø—Ä–æ –ª—é–±–æ–≤—å</p>
      <div class="love-note">–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é üíñ</div>
    </div>
    <div id="stage1" class="stage">
      <h2>–¢—ã –º–µ–Ω—è –ª—é–±–∏—à—å?</h2>
      <button onclick="showStage(2)">–î–∞</button>
      <button id="noBtn" class="no-btn">–ù–µ—Ç</button>
    </div>
    <div id="stage2" class="stage">
      <h2>101 –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É —è —Ç–µ–±—è –ª—é–±–ª—é</h2>
      <div class="reason-box" id="reasonBox"></div>
      <div>
        <button onclick="prevReason()">‚Üê</button>
        <button onclick="nextReason()">‚Üí</button>
        <button onclick="resetReason()">–° –Ω–∞—á–∞–ª–∞</button>
      </div>
    </div>
  </div>

  <script>
  
    const canvas = document.getElementById('space');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function resizeCanvas(){
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    for(let i=0;i<200;i++){
      stars.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        r:Math.random()*2+0.5,
        dx:(Math.random()-0.5)*0.2,
        dy:(Math.random()-0.5)*0.2
      });
    }

    function drawSpace(){
      ctx.clearRect(0,0,canvas.width,canvas.height);

      
      let gradient = ctx.createRadialGradient(
        canvas.width/2, canvas.height/2, 0,
        canvas.width/2, canvas.height/2, canvas.width/1.5
      );
      gradient.addColorStop(0,'rgba(100,0,150,0.2)');
      gradient.addColorStop(1,'transparent');
      ctx.fillStyle = gradient;
      ctx.fillRect(0,0,canvas.width,canvas.height);

      
      stars.forEach(s=>{
        ctx.beginPath();
        ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
        ctx.fillStyle='white';
        ctx.fill();
        s.x+=s.dx;
        s.y+=s.dy;
        if(s.x<0) s.x=canvas.width;
        if(s.y<0) s.y=canvas.height;
        if(s.x>canvas.width) s.x=0;
        if(s.y>canvas.height) s.y=0;
      });
      requestAnimationFrame(drawSpace);
    }
    drawSpace();

    
    let stage=0;
    const correctPassword = "–ª—é–±–ª—é";
    function checkPassword(){
      const val=document.getElementById('password').value.trim().toLowerCase();
      if(val===correctPassword){ showStage(1); }
      else {
        document.getElementById('error').style.display='block';
        setTimeout(()=>document.getElementById('error').style.display='none',2000);
      }
    }
    function showStage(n){
      document.getElementById('stage'+stage).classList.remove('active');
      stage=n;
      document.getElementById('stage'+stage).classList.add('active');
    }

    const noBtn=document.getElementById('noBtn');
    noBtn.addEventListener('mouseover',moveNoBtn);
    noBtn.addEventListener('touchstart',moveNoBtn);
    noBtn.addEventListener('click',()=>showStage(2));
    function moveNoBtn(){
      const container=document.querySelector('.card');
      const rect=container.getBoundingClientRect();
      const x=Math.random()*(rect.width-80);
      const y=Math.random()*(rect.height-50);
      noBtn.style.left=x+'px';
      noBtn.style.top=y+'px';
    }

 
    const reasons=[];
    for(let i=1;i<=101;i++){ reasons.push(`–ü—Ä–∏—á–∏–Ω–∞ ‚Ññ${i} ‚ù§Ô∏è`); }
    let index=0;
    const reasonBox=document.getElementById('reasonBox');
    function showReason(){ reasonBox.innerText=(index+1)+'. '+reasons[index]; }
    function nextReason(){ index=(index+1)%reasons.length; showReason(); }
    function prevReason(){ index=(index-1+reasons.length)%reasons.length; showReason(); }
    function resetReason(){ index=0; showReason(); }
    showReason();

    function spawnHearts(){
      const heart=document.createElement('div');
      heart.className='heart';
      heart.innerText=Math.random()>0.5?'‚ù§':'üíã';
      heart.style.left=Math.random()*100+'%';
      heart.style.fontSize=(15+Math.random()*30)+'px';
      heart.style.animationDuration=(5+Math.random()*7)+'s';
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(),10000);
    }
    setInterval(spawnHearts,800);
  </script>
</body>
</html>
